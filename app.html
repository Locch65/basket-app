<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Statistiche Basket</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2c3e50">
</head>
<body>
  <!-- Intestazione -->
  <div id="header">
	  <div id="login" class="giocatore">
	    <input type="password" id="password" placeholder="Password admin">
	    <button class="stato-btn stato-in" onclick="login()">Login</button>
      </div>

    <!-- Dropdown partita -->
    <div id="matchSelector">
      <label for="matchId">Partita:</label>
      <select id="matchId">
        <option value="1">Partita 1</option>
        <option value="2">Partita 2</option>
        <option value="3">Partita 3</option>
      </select>
    </div>
    <div id="teamNames">
      <input id="teamA" class="squadra-input" value="Squadra A">
      <input id="teamB" class="squadra-input" value="Squadra B">
    </div>
    <div id="scoreboard">
      <div class="loading">Caricamento scoreboard...</div>
    </div>
  </div>

  <div id="contenuto">
    <div id="topControls">
      <div id="ordinamenti">
        <button>Ordina per Numero</button>
        <button>Ordina per Cognome</button>
        <button>Ordina per Punteggio</button>
      </div>
      <div id="squadraB" class="hidden">
        <h1 id="titoloB"></h1>
        <div class="squadraB-row">
          <span id="punti_squadraB" class="punteggio"></span>
		  <!-- Bottoni punteggio: nascosti di default -->
          <div id="controlsB">
          <!--  <button class="tiro">➕1</button> -->
          <!--  <button class="tiro">➕2</button> -->
          <!--  <button class="tiro">➕3</button> -->
          <!--  <button class="undo">↩️</button> -->
          </div>
        </div>
      </div>
    </div>

    <div id="giocatori">
      <h1 id="titoloA">Squadra A</h1>
      <div class="loading">Caricamento giocatori...</div>
    </div>
    <!-- Mostra la versione dello script -->
    <div id="scriptVersion" class="versione"></div>
  </div>

  <script src="script.js?v=1.0.12"></script>
  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js").then((reg) => {
      console.log("Service Worker registrato");
    });

    // Quando un nuovo SW prende controllo, ricarica la pagina automaticamente
    navigator.serviceWorker.addEventListener("controllerchange", () => {
      if (!window.__reloadedOnce) {
        window.__reloadedOnce = true;
        window.location.reload();
      }
    });
  }
</script>

</body>
</html>

